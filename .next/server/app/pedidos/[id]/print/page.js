(()=>{var e={};e.id=274,e.ids=[274],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(1045),r(1506),r(5866);var s=r(3191),n=r(8716),a=r(7922),o=r.n(a),l=r(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["pedidos",{children:["[id]",{children:["print",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1045)),"C:\\Proyectos\\Imprenta\\app\\pedidos\\[id]\\print\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"C:\\Proyectos\\Imprenta\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Proyectos\\Imprenta\\app\\pedidos\\[id]\\print\\page.tsx"],u="/pedidos/[id]/print/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/pedidos/[id]/print/page",pathname:"/pedidos/[id]/print",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6713:(e,t,r)=>{Promise.resolve().then(r.bind(r,4144))},8838:(e,t,r)=>{Promise.resolve().then(r.bind(r,3740))},8112:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},4144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(326),n=r(7577);r(4047);var a=r(434),o=r(5047),l=r(5920),i=r(7671),d=r(4061),c=r(8705),u=r(2257),p=r(6283),x=r(4019),m=r(748);function h({children:e}){let[t,r]=(0,n.useState)(!1),h=(0,o.usePathname)(),f=[{href:"/",icon:l.Z,label:"Dashboard",shortLabel:"Dash"},{href:"/pedidos",icon:i.Z,label:"Pedidos",shortLabel:"Pedidos"},{href:"/clientes",icon:d.Z,label:"Clientes",shortLabel:"Clientes"},{href:"/productos",icon:c.Z,label:"Productos",shortLabel:"Prods"},{href:"/presupuestos",icon:u.Z,label:"Presupuestos",shortLabel:"Presu"}],b=e=>h===e;return(0,s.jsxs)("html",{lang:"es",children:[(0,s.jsxs)("head",{children:[s.jsx("title",{children:"Imprenta Manager"}),s.jsx("meta",{name:"description",content:"Sistema de gesti\xf3n de imprenta"})]}),(0,s.jsxs)("body",{className:"min-h-screen flex flex-col md:flex-row bg-gradient-to-br from-slate-50 to-slate-100",children:[(0,s.jsxs)("header",{className:"md:hidden bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 flex justify-between items-center sticky top-0 z-50 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(p.Z,{className:"w-6 h-6"}),s.jsx("span",{className:"font-bold text-lg",children:"Imprenta"})]}),s.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-blue-500 rounded-lg transition-colors","aria-label":"Toggle menu",children:t?s.jsx(x.Z,{className:"w-6 h-6"}):s.jsx(m.Z,{className:"w-6 h-6"})})]}),t&&s.jsx("div",{className:"md:hidden fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:()=>r(!1),children:(0,s.jsxs)("nav",{className:"fixed right-0 top-0 h-full w-64 bg-white shadow-2xl transform transition-transform duration-300",onClick:e=>e.stopPropagation(),children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsx("h2",{className:"font-bold text-xl text-slate-800",children:"Men\xfa"})}),s.jsx("ul",{className:"p-4 space-y-2",children:f.map(e=>{let t=e.icon,n=b(e.href);return s.jsx("li",{children:(0,s.jsxs)(a.default,{href:e.href,onClick:()=>r(!1),className:`flex items-center gap-3 p-3 rounded-xl transition-all ${n?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-slate-700 hover:bg-slate-100"}`,children:[s.jsx(t,{className:"w-5 h-5"})," ",e.label]})},e.href)})})]})}),(0,s.jsxs)("nav",{className:"hidden md:block bg-gradient-to-b from-slate-900 to-slate-800 text-slate-300 w-64 min-h-screen flex-shrink-0 shadow-xl",children:[s.jsx("div",{className:"p-6 border-b border-slate-700",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(p.Z,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"font-bold text-lg leading-none",children:"Imprenta"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Manager"})]})]})}),s.jsx("ul",{className:"p-4 space-y-2",children:f.map(e=>{let t=e.icon,r=b(e.href);return s.jsx("li",{children:(0,s.jsxs)(a.default,{href:e.href,className:`flex items-center gap-3 p-3 rounded-xl transition-all group ${r?"bg-blue-600 text-white shadow-lg":"hover:bg-slate-700/50 hover:translate-x-1"}`,children:[s.jsx(t,{className:`w-5 h-5 ${r?"":"group-hover:scale-110 transition-transform"}`}),e.label]})},e.href)})})]}),s.jsx("nav",{className:"md:hidden fixed bottom-0 w-full bg-white border-t border-slate-200 flex justify-around py-2 z-50 shadow-lg",children:f.slice(0,4).map(e=>{let t=e.icon,r=b(e.href);return(0,s.jsxs)(a.default,{href:e.href,className:`flex flex-col items-center px-3 py-2 rounded-lg transition-all ${r?"text-blue-600 scale-110":"text-slate-500"}`,children:[s.jsx(t,{className:"w-6 h-6 mb-1"}),s.jsx("span",{className:"text-xs font-medium",children:e.shortLabel})]},e.href)})}),s.jsx("main",{className:"flex-1 p-4 md:p-8 pb-24 md:pb-8 overflow-y-auto",children:e})]})]})}},3740:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(326);function n(){return s.jsx("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-4 py-2 rounded font-bold hover:bg-blue-700",children:"Imprimir / PDF"})}r(7577)},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>l});var s=r(8570);let n=(0,s.createProxy)(String.raw`C:\Proyectos\Imprenta\app\layout.tsx`),{__esModule:a,$$typeof:o}=n;n.default;let l=(0,s.createProxy)(String.raw`C:\Proyectos\Imprenta\app\layout.tsx#default`)},1045:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(9510),n=r(3493),a=r(1085),o=r(8570);let l=(0,o.createProxy)(String.raw`C:\Proyectos\Imprenta\components\PrintButton.tsx`),{__esModule:i,$$typeof:d}=l;l.default;let c=(0,o.createProxy)(String.raw`C:\Proyectos\Imprenta\components\PrintButton.tsx#default`);async function u({params:e}){let t=await n._.order.findUnique({where:{id:e.id},include:{customer:!0,items:{include:{product:!0}}}});return t||(0,a.notFound)(),(0,s.jsxs)("div",{className:"bg-white min-h-screen p-8 max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"no-print mb-4 flex justify-between items-center bg-blue-50 p-4 rounded border border-blue-200",children:[s.jsx("span",{className:"text-blue-800 text-sm",children:"Vista de impresi\xf3n (T\xe9cnica)"}),s.jsx(c,{})]}),(0,s.jsxs)("div",{className:"border-b-2 border-black pb-4 mb-6 flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-black uppercase tracking-widest",children:"Orden de Trabajo"}),(0,s.jsxs)("p",{className:"text-lg font-bold mt-2",children:["#",t.id.slice(0,8)]})]}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Fecha Solicitud:"}),s.jsx("p",{className:"font-bold text-lg",children:t.orderDate.toLocaleDateString()})]})]}),(0,s.jsxs)("div",{className:"mb-8 bg-gray-50 p-4 rounded border border-gray-200",children:[s.jsx("h2",{className:"text-sm font-bold uppercase text-gray-500 mb-1",children:"Cliente"}),s.jsx("p",{className:"text-xl font-bold",children:t.customer.name}),t.customer.phone&&(0,s.jsxs)("p",{className:"text-gray-700",children:["Tel: ",t.customer.phone]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-sm font-bold uppercase text-gray-500 mb-2 border-b",children:"Detalle de Producci\xf3n"}),(0,s.jsxs)("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 border-black",children:[s.jsx("th",{className:"py-2 w-16 text-center bg-gray-100",children:"CANT"}),s.jsx("th",{className:"py-2 px-4 bg-gray-100",children:"PRODUCTO / DESCRIPCI\xd3N"}),s.jsx("th",{className:"py-2 px-4 bg-gray-100",children:"ESPECIFICACIONES T\xc9CNICAS"})]})}),s.jsx("tbody",{className:"text-sm",children:t.items.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"py-4 text-center font-black text-xl align-top",children:e.quantity}),(0,s.jsxs)("td",{className:"py-4 px-4 align-top",children:[s.jsx("p",{className:"font-bold text-lg",children:e.product.internalName}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.product.description})]}),(0,s.jsxs)("td",{className:"py-4 px-4 align-top space-y-1",children:[e.product.measures&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Medidas:"})," ",e.product.measures]}),e.product.paperType&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Papel:"})," ",e.product.paperType]}),e.product.colors&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Colores:"})," ",e.product.colors]}),e.product.dieCut&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Troquel:"})," ",e.product.dieCut]}),e.product.traceability&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Rampa:"})," ",e.product.traceability]})]})]},e.id))})]})]}),t.notes&&(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded",children:[s.jsx("h3",{className:"font-bold text-sm uppercase text-gray-500",children:"Observaciones Generales"}),s.jsx("p",{className:"mt-1 whitespace-pre-wrap",children:t.notes})]}),(0,s.jsxs)("div",{className:"mt-12 pt-8 border-t border-gray-300 flex justify-between text-xs text-gray-400",children:[s.jsx("div",{className:"w-1/3 border-t border-black pt-2 text-center text-black",children:"Firma Operario"}),s.jsx("div",{className:"w-1/3 border-t border-black pt-2 text-center text-black",children:"Control Calidad"})]})]})}},3493:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});let s=require("@prisma/client"),n=globalThis.prisma||new s.PrismaClient({log:["query"]})},1085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return s.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(3953),n=r(6399);class a extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new a}delete(){throw new a}set(){throw new a}sort(){throw new a}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return x},getURLFromRedirectError:function(){return p},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let n=r(4580),a=r(2934),o=r(8586),l="NEXT_REDIRECT";function i(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let s=Error(l);s.digest=l+";"+t+";"+e+";"+r+";";let a=n.requestAsyncStorage.getStore();return a&&(s.mutableCookies=a.mutableCookies),s}function d(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw i(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw i(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,n]=e.digest.split(";",4),a=Number(n);return t===l&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(a)&&a in o.RedirectStatusCode}function p(e){return u(e)?e.digest.split(";",3)[2]:null}function x(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4047:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,374],()=>r(4738));module.exports=s})();