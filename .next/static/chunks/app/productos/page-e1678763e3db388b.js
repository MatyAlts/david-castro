(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[264],{8542:function(e,s,t){Promise.resolve().then(t.bind(t,7767))},7767:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var a=t(7437),l=t(2265),r=t(2513),c=t(4817),n=t(4697),i=t(2022),o=t(7524),d=t(3480);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var m=t(2023);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,d.Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);function h(){let[e,s]=(0,l.useState)([]),[t,d]=(0,l.useState)([]),[h,p]=(0,l.useState)([]),[f,j]=(0,l.useState)(!1),[N,b]=(0,l.useState)(""),[y,v]=(0,l.useState)({customerId:"",internalName:"",description:"",measures:"",paperType:"",colors:""});(0,l.useEffect)(()=>{Promise.all([fetch("/api/products").then(e=>e.json()),fetch("/api/clientes").then(e=>e.json())]).then(e=>{let[t,a]=e;s(t||[]),d(t||[]),p(a||[])})},[]),(0,l.useEffect)(()=>{d(e.filter(e=>{var s;return e.internalName.toLowerCase().includes(N.toLowerCase())||e.customer.name.toLowerCase().includes(N.toLowerCase())||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(N.toLowerCase()))}))},[N,e]);let g=async e=>{e.preventDefault(),await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),j(!1),v({customerId:"",internalName:"",description:"",measures:"",paperType:"",colors:""});let t=await fetch("/api/products");s(await t.json())};return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"mb-2",children:"Productos Personalizados"}),(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Cat\\u00e1logo de productos por cliente"})]}),(0,a.jsxs)("button",{onClick:()=>j(!f),className:"btn-primary",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"})," Nuevo Producto"]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar productos por nombre, cliente o descripci\\u00f3n...",value:N,onChange:e=>b(e.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-500 transition-colors"})]})]}),f&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto animate-slide-up",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Nuevo Producto"}),(0,a.jsx)("button",{onClick:()=>j(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:g,className:"p-6 space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 text-slate-500"}),"Cliente *"]}),(0,a.jsxs)("select",{required:!0,value:y.customerId,onChange:e=>v({...y,customerId:e.target.value}),className:"mt-1",children:[(0,a.jsx)("option",{value:"",children:"Seleccionar cliente..."}),h.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-slate-500"}),"Nombre del Producto *"]}),(0,a.jsx)("input",{required:!0,placeholder:"Ej. Etiqueta Vino Malbec",value:y.internalName,onChange:e=>v({...y,internalName:e.target.value}),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)(u,{className:"w-4 h-4 text-slate-500"}),"Medidas"]}),(0,a.jsx)("input",{placeholder:"10x15 cm",value:y.measures,onChange:e=>v({...y,measures:e.target.value}),className:"mt-1"})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-slate-500"}),"Tipo de Papel"]}),(0,a.jsx)("input",{placeholder:"Ilustraci\\u00f3n 150g",value:y.paperType,onChange:e=>v({...y,paperType:e.target.value}),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{className:"w-4 h-4 text-slate-500"}),"Colores"]}),(0,a.jsx)("input",{placeholder:"4/0, 4/4, etc.",value:y.colors,onChange:e=>v({...y,colors:e.target.value}),className:"mt-1"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Descripci\\u00f3n T\\u00e9cnica"}),(0,a.jsx)("textarea",{rows:4,placeholder:"Detalles de colores, troquelado, barniz, acabados especiales...",value:y.description,onChange:e=>v({...y,description:e.target.value}),className:"mt-1"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>j(!1),className:"flex-1 btn-secondary",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 btn-primary justify-center",children:"Guardar Producto"})]})]})]})}),(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map((e,s)=>(0,a.jsxs)("div",{className:"card-hover p-6 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:(0,a.jsx)(o.Z,{className:"w-6 h-6"})}),(0,a.jsx)("span",{className:"badge bg-blue-50 text-blue-700",children:e.customer.name})]}),(0,a.jsx)("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:e.internalName}),e.description&&(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-4 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"mt-auto pt-4 border-t border-slate-100 space-y-2",children:[e.measures&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[(0,a.jsx)(u,{className:"w-3.5 h-3.5 text-slate-400"}),(0,a.jsx)("span",{children:e.measures})]}),e.paperType&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[(0,a.jsx)(m.Z,{className:"w-3.5 h-3.5 text-slate-400"}),(0,a.jsx)("span",{children:e.paperType})]}),e.colors&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[(0,a.jsx)(x,{className:"w-3.5 h-3.5 text-slate-400"}),(0,a.jsx)("span",{children:e.colors})]})]})]},e.id))}),0===t.length&&(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(o.Z,{className:"w-10 h-10 text-slate-400"})}),(0,a.jsx)("p",{className:"text-slate-400 font-medium mb-2",children:N?"No se encontraron productos":"No hay productos registrados"}),!N&&(0,a.jsx)("button",{onClick:()=>j(!0),className:"text-blue-600 hover:underline text-sm",children:"Crear tu primer producto"})]})]})}},3480:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=(e,s)=>{let t=(0,a.forwardRef)((t,c)=>{let{color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=t;return(0,a.createElement)("svg",{ref:c,...l,width:i,height:i,stroke:n,strokeWidth:d?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat(r(e)),u].join(" "),...x},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(m)?m:[m]])});return t.displayName="".concat(e),t}},2023:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(3480).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7524:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(3480).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},2513:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(3480).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4817:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(3480).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2022:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(3480).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4697:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(3480).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8542)}),_N_E=e.O()}]);